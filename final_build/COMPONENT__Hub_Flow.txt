Component: Hub Flow
Purpose:
Provide deterministic ship-hub navigation with clear planet selection and launch-lock behavior.

Inputs:
- Player hub movement.
- Seeded planet list from `generateHub(seed)`.
- `Space` edge input near a planet.

Outputs:
- `planetLockId` + `planetLockTimer` update lifecycle.
- Mission start when lock timer completes while player remains in proximity.
- Hub render with route links, readable labels, and launch prompts.

Visual Behavior:
- Route nodes render in a board-like layout with simplified grid density, directional links, and focus halos.
- Per-node mission cards are removed to avoid overlap clutter.
- Only focused or lock-active planets show compact mini-tags near the node (`<planet name> Â· <lock timer>`).
- Mission/task details remain in the dedicated route board panel and external HUD, not on every node.

State:
- `state.hubs`: four seeded planets around centered hub anchor.
- `state.planetLockId`: current locked planet id or `null`.
- `state.planetLockTimer`: countdown frames before launch.
- `state.visual`: scene-level branding and accent metadata used by post-process render effects.

Layout Rules:
- Deterministic nodes are generated from `seed()` with per-index fan angles and radii.
- Position solver applies a fixed-pass separation pass (`relaxHubPlanets`) to avoid overlap.
- Coordinates are clamped to `HUB_NODE_MARGIN` bounds for label-safe room.
- Route order is computed by angle around center to produce readable looped links.
- Focus/lock tags are clamped to board bounds and rendered as short chips only when needed.

Edge Cases:
- Leaving proximity during lock cancels timer and requires re-lock.
- Hub returns from result reset lock state cleanly.
- Start button is hidden outside title mode to prevent accidental overlay clutter.
- Compact tags must remain on-screen even when focused nodes are near edges.

Acceptance Checks:
- Player can lock and launch every visible planet deterministically.
- No overlapping per-node cards in normal hub views.
- No clipped/off-canvas compact focus/lock tags under normal seed runs.
- Route path is readable and does not self-overlap heavily for default counts.
- Focused mission hints remain deterministic via route board panel and HUD without mutating global RNG.
- Lock messages and countdown match behavior in text state.
